import{r as n,j as e}from"./markdown-vendor-CiFSpwUK.js";import{c as z,S as V,C as Z,a as K,U as O,b as k,X as E}from"./index-Dm2NrElD.js";import{A as X}from"./arrow-left-zVcmrzx-.js";import{E as M}from"./eye-Dh1CyTQn.js";import{A as G}from"./arrow-right-G-r95Fss.js";import"./react-vendor-OvXVS5lI.js";import"./syntax-highlighter-Q85ecyyO.js";const H=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],L=z("eye-off",H);const J=[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]],U=z("key-round",J);const Q=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],W=z("lock",Q),Y=r=>r||"",g=r=>{if(!r)return{strength:0,label:"",color:""};let c=0;r.length>=6&&c++,r.length>=8&&c++,/[a-z]/.test(r)&&/[A-Z]/.test(r)&&c++,/\d/.test(r)&&c++,/[^a-zA-Z\d]/.test(r)&&c++;const w=[{strength:1,label:"Очень слабый",color:"bg-red-500"},{strength:2,label:"Слабый",color:"bg-orange-500"},{strength:3,label:"Средний",color:"bg-yellow-500"},{strength:4,label:"Хороший",color:"bg-blue-500"},{strength:5,label:"Отличный",color:"bg-emerald-500"}],p=Math.min(c-1,4);return w[p]||{strength:0,label:"",color:""}},B=r=>r?r.length<3?{valid:!1,message:"Минимум 3 символа"}:r.length>20?{valid:!1,message:"Максимум 20 символов"}:/^[a-zA-Z0-9_]+$/.test(r)?{valid:!0,message:""}:{valid:!1,message:"Только буквы, цифры и _"}:{valid:!1,message:""},de=({onLogin:r,onRegister:c,onResetPassword:w,error:p,onClearError:S})=>{const[s,D]=n.useState("signin"),[j,C]=n.useState(!1),[v,P]=n.useState(!1),[N,R]=n.useState(!1),[y,T]=n.useState(!1),[l,q]=n.useState(""),[a,$]=n.useState(""),[o,_]=n.useState(""),[d,h]=n.useState(""),[u,m]=n.useState(""),[t,x]=n.useState({username:!1,password:!1,newPassword:!1});n.useEffect(()=>{if(t.username){const i=B(l);h(i.valid?"":i.message)}},[l,t.username]),n.useEffect(()=>{t.password&&a&&(a.length<6?m("Минимум 6 символов"):m(""))},[a,t.password]);const F=async i=>{i.preventDefault(),x({username:!0,password:!0,newPassword:!0});const A=B(l);if(!A.valid){h(A.message);return}if(h(""),s!=="forgot"&&a.length<6){m("Минимум 6 символов");return}if(!(s==="forgot"&&o.length<6)){m(""),h(""),C(!0);try{s==="forgot"?(await w(l,o),P(!0)):s==="signin"?await r(l,a):await c(l,a)}catch{}finally{C(!1)}}},f=i=>{D(i),P(!1),_(""),$(""),h(""),m(""),x({username:!1,password:!1,newPassword:!1}),S&&S()},I=()=>s==="forgot"?"Сброс пароля":s==="signin"?"Добро пожаловать":"Создать аккаунт",b=s==="signup"||s==="forgot"?g(s==="forgot"?o:a):null;return e.jsxs("div",{className:"min-h-screen w-full flex items-center justify-center p-4 relative overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[e.jsx("div",{className:"absolute top-1/4 left-1/4 w-96 h-96 bg-indigo-500/10 rounded-full blur-3xl animate-pulse"}),e.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-96 h-96 bg-purple-500/10 rounded-full blur-3xl animate-pulse",style:{animationDelay:"1s"}}),e.jsx("div",{className:"absolute top-1/2 left-1/2 w-96 h-96 bg-pink-500/10 rounded-full blur-3xl animate-pulse",style:{animationDelay:"2s"}})]}),e.jsxs("div",{className:"w-full max-w-md relative z-10",children:[e.jsxs("div",{className:"text-center mb-8 animate-in fade-in slide-in-from-top-4 duration-500",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-2xl bg-gradient-to-br from-indigo-500 to-purple-600 shadow-[0_0_40px_rgba(99,102,241,0.5)] mb-4 animate-float",children:e.jsx(V,{className:"text-white w-8 h-8"})}),e.jsx("h1",{className:"text-4xl font-bold text-white tracking-tight mb-2",children:"Bugrov Space"}),e.jsx("p",{className:"text-white/50 text-sm font-medium uppercase tracking-widest",children:"AI teams for designers"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-black/50 via-black/40 to-indigo-950/20 backdrop-blur-3xl border border-white/10 rounded-[2rem] shadow-2xl shadow-indigo-500/10 overflow-hidden relative group animate-in fade-in slide-in-from-bottom-4 duration-500",children:[e.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-2/3 h-1 bg-gradient-to-r from-transparent via-indigo-500 to-transparent opacity-50 blur-sm"}),e.jsxs("div",{className:"p-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s==="forgot"?e.jsxs("button",{onClick:()=>f("signin"),className:"text-white/50 hover:text-white flex items-center gap-1 text-sm font-medium transition-colors group/back",children:[e.jsx(X,{size:14,className:"group-hover/back:-translate-x-1 transition-transform"})," Назад"]}):e.jsx("h2",{className:"text-2xl font-bold text-white",children:I()}),e.jsx("div",{className:"text-[10px] font-bold text-white/30 border border-white/10 px-2 py-1 rounded-full uppercase",children:s==="forgot"?"Восстановление":"Защищено"})]}),p&&!v&&e.jsxs("div",{className:"mb-6 p-3 bg-red-500/10 border border-red-500/20 rounded-xl flex items-center gap-3 text-red-400 text-sm animate-in slide-in-from-top-2",children:[e.jsx(Z,{size:16}),e.jsx("span",{children:Y(p)})]}),v?e.jsxs("div",{className:"text-center py-8 animate-in fade-in zoom-in duration-300",children:[e.jsx("div",{className:"w-16 h-16 bg-emerald-500/10 rounded-full flex items-center justify-center mx-auto mb-4 border border-emerald-500/20 text-emerald-400",children:e.jsx(K,{size:32})}),e.jsx("h3",{className:"text-white font-bold text-lg mb-2",children:"Пароль обновлен"}),e.jsxs("p",{className:"text-white/50 text-sm mb-6",children:["Пароль успешно изменен для ",e.jsx("span",{className:"text-white font-semibold",children:l})]}),e.jsx("button",{onClick:()=>f("signin"),className:"px-6 py-2 bg-white/10 hover:bg-white/20 text-white rounded-xl text-sm font-medium transition-colors",children:"Войти сейчас"})]}):e.jsxs("form",{onSubmit:F,className:"space-y-5",children:[e.jsxs("div",{className:"space-y-1.5 group/input",children:[e.jsxs("label",{className:"text-xs font-bold text-white/40 uppercase tracking-wider ml-1 flex items-center justify-between",children:[e.jsx("span",{children:"Имя пользователя"}),t.username&&d&&e.jsx("span",{className:"text-red-400 text-[10px] normal-case font-normal",children:d})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:`absolute left-4 top-1/2 -translate-y-1/2 transition-colors ${t.username&&d?"text-red-400":t.username&&!d&&l?"text-emerald-400":"text-white/30 group-focus-within/input:text-indigo-400"}`,children:e.jsx(O,{size:18})}),e.jsx("input",{type:"text",required:!0,value:l,onChange:i=>{q(i.target.value),x({...t,username:!0})},onBlur:()=>x({...t,username:!0}),className:`w-full bg-black/20 border rounded-xl py-3.5 pl-11 pr-10 text-white placeholder-white/20 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-black transition-all ${t.username&&d?"border-red-500/50 focus:ring-red-500/70":t.username&&!d&&l?"border-emerald-500/50 focus:ring-emerald-500/70":"border-white/10 focus:ring-indigo-500/70 focus:border-indigo-500/50"}`,placeholder:"johndoe"}),t.username&&!d&&l&&e.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-emerald-400",children:e.jsx(k,{size:18})})]})]}),s!=="forgot"&&e.jsxs("div",{className:"space-y-1.5 group/input",children:[e.jsxs("div",{className:"flex justify-between items-center ml-1",children:[e.jsx("label",{className:"text-xs font-bold text-white/40 uppercase tracking-wider",children:"Пароль"}),s==="signin"&&e.jsx("button",{type:"button",onClick:()=>f("forgot"),className:"text-[10px] font-bold text-indigo-400 hover:text-indigo-300 uppercase tracking-wide transition-colors",children:"Забыли пароль?"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:`absolute left-4 top-1/2 -translate-y-1/2 transition-colors ${t.password&&u?"text-red-400":t.password&&!u&&a?"text-emerald-400":"text-white/30 group-focus-within/input:text-indigo-400"}`,children:e.jsx(W,{size:18})}),e.jsx("input",{type:N?"text":"password",required:!0,value:a,onChange:i=>{$(i.target.value),x({...t,password:!0})},onBlur:()=>x({...t,password:!0}),className:`w-full bg-black/20 border rounded-xl py-3.5 pl-11 pr-11 text-white placeholder-white/20 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-black transition-all ${t.password&&u?"border-red-500/50 focus:ring-red-500/70":t.password&&!u&&a?"border-emerald-500/50 focus:ring-emerald-500/70":"border-white/10 focus:ring-indigo-500/70 focus:border-indigo-500/50"}`,placeholder:"••••••••"}),e.jsx("button",{type:"button",onClick:()=>R(!N),className:"absolute right-4 top-1/2 -translate-y-1/2 text-white/30 hover:text-white/60 transition-colors",children:N?e.jsx(L,{size:18}):e.jsx(M,{size:18})})]}),t.password&&u&&e.jsx("p",{className:"text-red-400 text-xs ml-1",children:u}),s==="signup"&&a&&e.jsxs("div",{className:"mt-2 space-y-1.5",children:[e.jsxs("div",{className:"flex items-center justify-between text-xs",children:[e.jsx("span",{className:"text-white/40",children:"Надежность пароля:"}),e.jsx("span",{className:`font-medium ${b?.color.replace("bg-","text-")}`,children:b?.label})]}),e.jsx("div",{className:"h-1.5 bg-white/5 rounded-full overflow-hidden",children:e.jsx("div",{className:`h-full transition-all duration-300 ${b?.color||"bg-gray-500"}`,style:{width:`${(b?.strength||0)*20}%`}})}),e.jsxs("div",{className:"grid grid-cols-2 gap-1.5 text-[10px] text-white/30 mt-2",children:[e.jsxs("div",{className:`flex items-center gap-1.5 ${a.length>=6?"text-emerald-400":""}`,children:[a.length>=6?e.jsx(k,{size:12}):e.jsx(E,{size:12}),e.jsx("span",{children:"Минимум 6 символов"})]}),e.jsxs("div",{className:`flex items-center gap-1.5 ${a.length>=8?"text-emerald-400":""}`,children:[a.length>=8?e.jsx(k,{size:12}):e.jsx(E,{size:12}),e.jsx("span",{children:"Рекомендуется 8+"})]})]})]})]}),s==="forgot"&&e.jsxs("div",{className:"space-y-1.5 group/input animate-in slide-in-from-bottom-2",children:[e.jsx("label",{className:"text-xs font-bold text-white/40 uppercase tracking-wider ml-1",children:"Новый пароль"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-white/30 group-focus-within/input:text-indigo-400 transition-colors",children:e.jsx(U,{size:18})}),e.jsx("input",{type:y?"text":"password",required:!0,value:o,onChange:i=>{_(i.target.value),x({...t,newPassword:!0})},onBlur:()=>x({...t,newPassword:!0}),className:"w-full bg-black/20 border border-white/10 rounded-xl py-3.5 pl-11 pr-11 text-white placeholder-white/20 focus:outline-none focus:ring-2 focus:ring-indigo-500/70 focus:ring-offset-2 focus:ring-offset-black focus:border-indigo-500/50 transition-all",placeholder:"Введите новый пароль"}),e.jsx("button",{type:"button",onClick:()=>T(!y),className:"absolute right-4 top-1/2 -translate-y-1/2 text-white/30 hover:text-white/60 transition-colors",children:y?e.jsx(L,{size:18}):e.jsx(M,{size:18})})]}),o&&e.jsxs("div",{className:"mt-2 space-y-1.5",children:[e.jsxs("div",{className:"flex items-center justify-between text-xs",children:[e.jsx("span",{className:"text-white/40",children:"Надежность пароля:"}),e.jsx("span",{className:`font-medium ${g(o).color.replace("bg-","text-")}`,children:g(o).label})]}),e.jsx("div",{className:"h-1.5 bg-white/5 rounded-full overflow-hidden",children:e.jsx("div",{className:`h-full transition-all duration-300 ${g(o).color||"bg-gray-500"}`,style:{width:`${(g(o).strength||0)*20}%`}})})]})]}),e.jsx("button",{type:"submit",disabled:j||t.username&&!!d||t.password&&!!u,onClick:i=>{if(j||t.username&&d||t.password&&u){i.preventDefault();return}},className:"w-full mt-6 py-4 bg-white text-black rounded-xl font-bold text-sm hover:bg-indigo-50 transition-all shadow-[0_0_20px_rgba(255,255,255,0.2)] active:scale-[0.98] flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:bg-white",children:j?e.jsx("span",{className:"animate-pulse",children:"Обработка..."}):e.jsx(e.Fragment,{children:s==="forgot"?e.jsxs(e.Fragment,{children:["Обновить пароль ",e.jsx(U,{size:16})]}):e.jsxs(e.Fragment,{children:[s==="signin"?"Войти":"Создать аккаунт"," ",e.jsx(G,{size:16})]})})})]})]}),!v&&e.jsx("div",{className:"p-6 bg-black/20 border-t border-white/5 text-center",children:s==="forgot"?e.jsxs("p",{className:"text-sm text-white/50",children:["Помните пароль?",e.jsx("button",{onClick:()=>f("signin"),className:"ml-2 font-bold text-white hover:underline transition-colors",children:"Войти"})]}):e.jsxs("p",{className:"text-sm text-white/50",children:[s==="signin"?"Нет аккаунта?":"Уже есть аккаунт?",e.jsx("button",{onClick:()=>f(s==="signin"?"signup":"signin"),className:"ml-2 font-bold text-white hover:underline transition-colors",children:s==="signin"?"Зарегистрироваться":"Войти"})]})})]})]})]})};export{de as AuthPage};
