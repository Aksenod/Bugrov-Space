import{r as n,j as e}from"./markdown-vendor-CiFSpwUK.js";import{c as b,X as p,s as d,t as g,b as f,g as u,i as w}from"./index-CZcWKVSD.js";import"./react-vendor-OvXVS5lI.js";import"./syntax-highlighter-Q85ecyyO.js";const j=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],N=b("credit-card",j),E=({isOpen:o,onClose:a,token:c})=>{const[s,r]=n.useState(!1),[i,l]=n.useState(null);if(!o)return null;const x=async()=>{if(!c){window.location.hash="#/auth";return}r(!0),l(null);try{const t=await w.createPayment({amount:`${d}.00`,description:"Подписка на Bugrov Space"});if(t.confirmationUrl)window.location.href=t.confirmationUrl;else throw new Error("No confirmation URL received")}catch(t){l(t.message||"Произошла ошибка при создании платежа")}finally{r(!1)}},h=t=>{t.target===t.currentTarget&&!s&&a()};return e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-md",onClick:h,children:e.jsxs("div",{className:"relative w-full max-w-md mx-4 bg-gradient-to-b from-black/90 via-black/80 to-black/90 backdrop-blur-xl border border-white/20 rounded-2xl shadow-2xl overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-indigo-500/50 via-indigo-400/30 to-transparent"}),e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-white/10",children:[e.jsx("h2",{className:"text-xl font-bold text-white",children:"Оформление подписки"}),e.jsx("button",{onClick:a,disabled:s,className:"p-2 rounded-lg text-white/60 hover:text-white hover:bg-white/10 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:e.jsx(p,{size:20})})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-4 p-4 bg-white/5 rounded-xl border border-white/10",children:[e.jsx("div",{className:"p-3 bg-indigo-500/10 rounded-lg border border-indigo-500/20",children:e.jsx(N,{className:"w-6 h-6 text-indigo-400"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-white",children:"Полный доступ"}),e.jsx("p",{className:"text-sm text-white/60",children:"Доступ ко всем функциям платформы"})]}),e.jsxs("div",{className:"ml-auto font-bold text-white flex items-center gap-2",children:[e.jsxs("span",{children:[d," ₽"]}),e.jsx(e.Fragment,{children:e.jsxs("span",{className:"text-sm text-white/40 line-through font-normal",children:[g," ₽"]})}),e.jsx("span",{className:"text-xs text-white/50 font-normal",children:"/ мес"})]})]}),e.jsx("ul",{className:"space-y-3",children:["Неограниченное создание проектов и прототипов.","Платформа работает на моделях GPT‑5.1 — оплата за модели уже включена в подписку, свои ключи не нужны.","Поддержка напрямую от автора сервиса.","Ранний доступ к новым сценариям и функциям платформы."].map((t,m)=>e.jsxs("li",{className:"flex items-start gap-3 text-sm text-white/80 leading-relaxed",children:[e.jsx(f,{className:"w-4 h-4 text-emerald-400 shrink-0 mt-0.5"}),e.jsx("span",{children:t})]},m))})]}),i&&e.jsx("div",{className:"p-3 rounded-lg bg-red-500/10 border border-red-500/30 text-red-400 text-sm",children:i}),e.jsx("button",{onClick:x,disabled:s,className:"w-full py-3 px-4 bg-indigo-500 hover:bg-indigo-600 text-white font-semibold rounded-xl transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:s?e.jsxs(e.Fragment,{children:[e.jsx(u,{className:"w-5 h-5 animate-spin"}),"Обработка..."]}):"Оплатить подписку"}),e.jsx("p",{className:"text-xs text-center text-white/40",children:"Нажимая кнопку, вы соглашаетесь с условиями оферты и правилами обработки персональных данных"})]})]})})};export{E as default};
