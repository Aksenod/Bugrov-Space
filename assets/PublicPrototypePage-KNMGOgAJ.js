import{r as t,j as e}from"./markdown-vendor-CiFSpwUK.js";import{f as p,C as h,h as f}from"./index-C_nb8_l2.js";import"./react-vendor-OvXVS5lI.js";import"./syntax-highlighter-Q85ecyyO.js";const N=({prototypeHash:a,versionNumber:l,onClose:u})=>{const[r,d]=t.useState(null),[m,i]=t.useState(!0),[o,c]=t.useState(null),[n,x]=t.useState(null);return t.useEffect(()=>{(async()=>{try{i(!0);const s=await f.getPublicPrototype(a,l);d(s.prototype.html),x(s.prototype.username),c(null)}catch(s){console.error("Failed to load prototype:",s),c(s?.message||"Не удалось загрузить прототип")}finally{i(!1)}})()},[a,l]),e.jsxs("div",{className:"fixed inset-0 z-[100] bg-black flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 bg-black/80 backdrop-blur-md border-b border-white/10",children:[e.jsxs("h1",{className:"text-white font-medium flex flex-col md:flex-row md:items-center md:gap-2",children:[e.jsxs("span",{children:["Просмотр прототипа",l!==void 0?` (Версия ${l})`:""]}),n&&e.jsxs("span",{className:"text-white/60 md:ml-2",children:["• ",n]})]}),e.jsx("button",{onClick:()=>window.open("https://bugrov.space","_blank"),className:"px-3 py-1.5 bg-gradient-to-r from-indigo-500 via-purple-500 to-indigo-600 text-white text-xs font-medium rounded-full shadow-lg hover:shadow-indigo-500/50 transition-all duration-300 hover:scale-105 active:scale-95 backdrop-blur-sm border border-white/20","aria-label":"Перейти на Bugrov.space",children:e.jsxs("span",{className:"flex flex-col md:flex-row items-center",children:[e.jsx("span",{children:"Сделано на"}),e.jsx("span",{className:"font-bold",children:"Bugrov.space"})]})})]}),e.jsx("div",{className:"flex-1 overflow-hidden",children:m?e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx(p,{size:48,className:"mx-auto animate-spin text-indigo-400"}),e.jsx("p",{className:"text-white/60",children:"Загрузка прототипа..."})]})}):o?e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsxs("div",{className:"text-center space-y-4 max-w-md p-6",children:[e.jsx(h,{size:48,className:"mx-auto text-red-400"}),e.jsx("p",{className:"text-white/80 font-medium",children:"Ошибка загрузки"}),e.jsx("p",{className:"text-white/50 text-sm",children:o})]})}):r?e.jsx("iframe",{srcDoc:r,className:"w-full h-full border-0",title:"Prototype Preview",sandbox:"allow-same-origin allow-scripts"}):e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsx("p",{className:"text-white/50",children:"Прототип не найден"})})})]})};export{N as PublicPrototypePage};
