import{j as e,r as C}from"./iframe-DFO4omvp.js";import{c as y}from"./createLucideIcon-nteoX5ce.js";import{X as k}from"./x-BFnBRW5R.js";import{B as g}from"./Button-BRk80j6B.js";import"./preload-helper-PPVm8Dsz.js";import"./loader-circle-DiRa4g2K.js";const N=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],B=y("triangle-alert",N),f=({isOpen:a,onClose:r,onConfirm:x,title:b,message:h,confirmText:v="Подтвердить",cancelText:w="Отмена",variant:n="danger",isLoading:t=!1})=>{if(!a)return null;const o=()=>{x()},j=T=>{T.target===T.currentTarget&&r()},i={danger:{iconBg:"bg-red-500/20",iconColor:"text-red-400",iconBorder:"border-red-500/30",buttonBg:"bg-red-500 hover:bg-red-600",buttonGlow:"shadow-[0_0_20px_rgba(239,68,68,0.3)]",gradient:"from-red-500/50 via-red-400/30 to-transparent"},warning:{iconBg:"bg-amber-500/20",iconColor:"text-amber-400",iconBorder:"border-amber-500/30",buttonBg:"bg-amber-500 hover:bg-amber-600",buttonGlow:"shadow-[0_0_20px_rgba(245,158,11,0.3)]",gradient:"from-amber-500/50 via-amber-400/30 to-transparent"},info:{iconBg:"bg-blue-500/20",iconColor:"text-blue-400",iconBorder:"border-blue-500/30",buttonBg:"bg-blue-500 hover:bg-blue-600",buttonGlow:"shadow-[0_0_20px_rgba(59,130,246,0.3)]",gradient:"from-blue-500/50 via-blue-400/30 to-transparent"}}[n];return e.jsxs("div",{className:"fixed inset-0 z-[120] flex items-center justify-center p-4",onClick:j,children:[e.jsx("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-md transition-opacity animate-in fade-in duration-300"}),e.jsxs("div",{className:"relative w-full max-w-md bg-gradient-to-br from-black/80 via-black/70 to-black/80 backdrop-blur-2xl border border-white/10 rounded-[2rem] shadow-[0_0_50px_rgba(0,0,0,0.5)] shadow-indigo-500/10 animate-in fade-in zoom-in-95 duration-300 overflow-hidden",children:[e.jsx("div",{className:`absolute top-0 left-0 right-0 h-1 bg-gradient-to-r ${i.gradient}`}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-start gap-4 mb-6",children:[e.jsx("div",{className:`p-3 ${i.iconBg} ${i.iconBorder} border rounded-2xl flex-shrink-0`,children:e.jsx(B,{size:24,className:i.iconColor})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"text-xl font-bold text-white mb-1",children:b}),e.jsx("p",{className:"text-sm text-white/80 leading-relaxed whitespace-pre-line",children:h})]}),e.jsx("button",{onClick:r,disabled:t,className:"p-2 rounded-xl bg-white/5 hover:bg-white/10 text-white/50 hover:text-white transition-colors flex-shrink-0 disabled:opacity-50 disabled:cursor-not-allowed",children:e.jsx(k,{size:18})})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:r,disabled:t,className:"flex-1 px-4 py-3 bg-white/5 hover:bg-white/10 border border-white/10 text-white rounded-xl font-medium text-sm transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:w}),e.jsx("button",{onClick:o,disabled:t,className:`flex-1 px-4 py-3 ${i.buttonBg} text-white rounded-xl font-bold text-sm transition-all ${i.buttonGlow} disabled:opacity-50 disabled:cursor-not-allowed active:scale-[0.98] flex items-center justify-center gap-2`,children:t?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),e.jsx("span",{children:"Обработка..."})]}):v})]})]})]})]})};f.__docgenInfo={description:"",methods:[],displayName:"ConfirmDialog",props:{isOpen:{required:!0,tsType:{name:"boolean"},description:""},onClose:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},onConfirm:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},title:{required:!0,tsType:{name:"string"},description:""},message:{required:!0,tsType:{name:"string"},description:""},confirmText:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"'Подтвердить'",computed:!1}},cancelText:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"'Отмена'",computed:!1}},variant:{required:!1,tsType:{name:"union",raw:"'danger' | 'warning' | 'info'",elements:[{name:"literal",value:"'danger'"},{name:"literal",value:"'warning'"},{name:"literal",value:"'info'"}]},description:"",defaultValue:{value:"'danger'",computed:!1}},isLoading:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}}}};const $={title:"UI/ConfirmDialog",component:f,tags:["autodocs"],parameters:{layout:"fullscreen",backgrounds:{default:"dark",values:[{name:"dark",value:"#000000"}]}}},s=({variant:a,title:r,message:x,confirmText:b,cancelText:h,isLoading:v})=>{const[w,n]=C.useState(!1),[t,o]=C.useState(!1),j=()=>{v?(o(!0),setTimeout(()=>{o(!1),n(!1)},2e3)):n(!1)};return e.jsxs("div",{className:"p-8",children:[e.jsxs(g,{onClick:()=>n(!0),children:["Открыть ",a]}),e.jsx(f,{isOpen:w,onClose:()=>n(!1),onConfirm:j,variant:a,title:r,message:x,confirmText:b,cancelText:h,isLoading:t})]})},l={render:()=>e.jsx(s,{variant:"danger",title:"Удалить проект?",message:"Проект и все связанные данные будут безвозвратно удалены.\\n\\nЭто действие нельзя отменить.",confirmText:"Удалить",cancelText:"Отмена"})},d={render:()=>e.jsx(s,{variant:"warning",title:"Очистить историю чата?",message:"Все сообщения в этом чате будут удалены.\\n\\nЭто действие нельзя отменить.",confirmText:"Очистить",cancelText:"Отмена"})},c={render:()=>e.jsx(s,{variant:"info",title:"Подтвердить действие?",message:"Вы уверены, что хотите выполнить это действие?",confirmText:"Подтвердить",cancelText:"Отмена"})},m={render:()=>e.jsx(s,{variant:"danger",title:"Удалить проект?",message:`Проект и все связанные данные будут безвозвратно удалены.

Это действие нельзя отменить.`,confirmText:"Удалить",cancelText:"Отмена",isLoading:!0})},u={render:()=>e.jsx(s,{variant:"danger",title:"Удалить проект?",message:`Проект "Мой проект" и все связанные данные (3 агента, все сообщения и файлы) будут безвозвратно удалены.

Это действие нельзя отменить. После удаления восстановление данных будет невозможно.`,confirmText:"Удалить навсегда",cancelText:"Отмена"})},p={render:()=>{const[a,r]=C.useState(null);return e.jsxs("div",{className:"p-8 space-y-4",children:[e.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.jsx(g,{onClick:()=>r("danger"),variant:"secondary",children:"Danger"}),e.jsx(g,{onClick:()=>r("warning"),variant:"tertiary",children:"Warning"}),e.jsx(g,{onClick:()=>r("info"),variant:"ghost",children:"Info"})]}),a&&e.jsx(f,{isOpen:!0,onClose:()=>r(null),onConfirm:()=>r(null),variant:a,title:`${a} Dialog`,message:`Это пример диалога подтверждения с вариантом ${a}.`})]})}};l.parameters={...l.parameters,docs:{...l.parameters?.docs,source:{originalSource:`{
  render: () => <ConfirmDialogWrapper variant="danger" title="Удалить проект?" message="Проект и все связанные данные будут безвозвратно удалены.\\n\\nЭто действие нельзя отменить." confirmText="Удалить" cancelText="Отмена" />
}`,...l.parameters?.docs?.source}}};d.parameters={...d.parameters,docs:{...d.parameters?.docs,source:{originalSource:`{
  render: () => <ConfirmDialogWrapper variant="warning" title="Очистить историю чата?" message="Все сообщения в этом чате будут удалены.\\n\\nЭто действие нельзя отменить." confirmText="Очистить" cancelText="Отмена" />
}`,...d.parameters?.docs?.source}}};c.parameters={...c.parameters,docs:{...c.parameters?.docs,source:{originalSource:`{
  render: () => <ConfirmDialogWrapper variant="info" title="Подтвердить действие?" message="Вы уверены, что хотите выполнить это действие?" confirmText="Подтвердить" cancelText="Отмена" />
}`,...c.parameters?.docs?.source}}};m.parameters={...m.parameters,docs:{...m.parameters?.docs,source:{originalSource:`{
  render: () => <ConfirmDialogWrapper variant="danger" title="Удалить проект?" message={\`Проект и все связанные данные будут безвозвратно удалены.

Это действие нельзя отменить.\`} confirmText="Удалить" cancelText="Отмена" isLoading={true} />
}`,...m.parameters?.docs?.source}}};u.parameters={...u.parameters,docs:{...u.parameters?.docs,source:{originalSource:`{
  render: () => <ConfirmDialogWrapper variant="danger" title="Удалить проект?" message={\`Проект "Мой проект" и все связанные данные (3 агента, все сообщения и файлы) будут безвозвратно удалены.

Это действие нельзя отменить. После удаления восстановление данных будет невозможно.\`} confirmText="Удалить навсегда" cancelText="Отмена" />
}`,...u.parameters?.docs?.source}}};p.parameters={...p.parameters,docs:{...p.parameters?.docs,source:{originalSource:`{
  render: () => {
    const [openVariant, setOpenVariant] = useState<'danger' | 'warning' | 'info' | null>(null);
    return <div className="p-8 space-y-4">
        <div className="flex flex-wrap gap-3">
          <Button onClick={() => setOpenVariant('danger')} variant="secondary">
            Danger
          </Button>
          <Button onClick={() => setOpenVariant('warning')} variant="tertiary">
            Warning
          </Button>
          <Button onClick={() => setOpenVariant('info')} variant="ghost">
            Info
          </Button>
        </div>
        {openVariant && <ConfirmDialog isOpen={true} onClose={() => setOpenVariant(null)} onConfirm={() => setOpenVariant(null)} variant={openVariant} title={\`\${openVariant} Dialog\`} message={\`Это пример диалога подтверждения с вариантом \${openVariant}.\`} />}
      </div>;
  }
}`,...p.parameters?.docs?.source}}};const I=["Danger","Warning","Info","WithLoading","LongMessage","AllVariants"];export{p as AllVariants,l as Danger,c as Info,u as LongMessage,d as Warning,m as WithLoading,I as __namedExportsOrder,$ as default};
